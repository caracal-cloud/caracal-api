

deploy to eb
--------------------------------------------------------------------------------
pip freeze > requirements.txt
-- git commit
eb deploy caracal-api-prod --profile=tuma-admin
-- if changing models, don't forget to update Lambda models.py as well
-- deployment will fail if upgrading a package (at least simple-arcgis-wrapper)


initialize database from eb instance
--------------------------------------------------------------------------------
. /opt/python/current/env
source /opt/python/run/venv/bin/activate
cd /opt/python/current/app/
-- todo: complete me --


connect to local postgres
--------------------------------------------------------------------------------
sudo -i -u postgres
psql
\l, \du


start pgAdmin4
--------------------------------------------------------------------------------
source ~/bin/pgAdmin4/pgAdmin4/bin/activate
python pgAdmin4/lib/python3.5/site-packages/pgadmin4/pgAdmin4.py


Get and remove resource-based policies
--------------------------------------------------------------------------------
aws lambda get-policy --function-name my-function --output text
aws lambda remove-permission --function-name example --statement-id sns

- find better way to handle path measurement (individual serializer)

- handle timezone correctly - standardize everything

- what happens if user needs to sign in to ArcGIS again?
    - they can sign in again, then add ArcGIS output to each source
    - the layer will then be populated with the saved data

