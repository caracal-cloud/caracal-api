container_commands:
  01_wsgipass:
    command: 'echo "WSGIPassAuthorization On" >> ../wsgi.conf'
  02_migrate:
    command: "source /opt/python/run/venv/bin/activate && python manage.py migrate --noinput"
    leader_only: true
option_settings:
  aws:elasticbeanstalk:application:environment:
    DJANGO_SETTINGS_MODULE: placeholder_settings
    TUMA_AWS_KEY: placeholder_aws_key
    TUMA_AWS_SECRET: placeholder_aws_secret
    CARACAL_STAGING_COGNITO_USERPOOL_ID: placeholder_staging_userpool_id
    CARACAL_STAGING_COGNITO_APP_ID: placeholder_staging_app_id
    CARACAL_PROD_COGNITO_USERPOOL_ID: placeholder_prod_userpool_id
    CARACAL_PROD_COGNITO_APP_ID: placeholder_prod_app_id
    CARACAL_MEMCACHED_LOCATION: placeholder_memcached_location
    TUMA_REMOTE_MYSQL_HOST: placeholder_mysql_host
    TUMA_REMOTE_MYSQL_PASSWORD: placeholder_mysql_password
    TUMA_REMOTE_MYSQL_USER: placeholder_mysql_user
  aws:elasticbeanstalk:container:python:
    WSGIPath: caracal/wsgi.py
  aws:elasticbeanstalk:container:python:staticfiles:
    "/static/": "static/"
